!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.Combinatorics=b()}(this,function(){"use strict";var a="0.5.3",b=function(a,b){for(var c=1;b--;)c*=a--;return c},c=function(a,c){return c>a?0:b(a,c)/b(c,c)},d=function(a){return b(a,a)},e=function(a,b){var c=1;if(b)c=d(b);else{for(b=1;a>c;c*=++b);c>a&&(c/=b--)}for(var e=[0];b;c/=b--)e[b]=Math.floor(a/c),a%=c;return e},f=function(a,b){Object.keys(b).forEach(function(c){Object.defineProperty(a,c,{value:b[c],configurable:"next"==c})})},g=function(a,b){Object.defineProperty(a,b,{writable:!0})},h=function(a){var b,c=[];for(this.init();b=this.next();)c.push(a?a(b):b);return this.init(),c},i={toArray:h,map:h,forEach:function(a){var b;for(this.init();b=this.next();)a(b);this.init()},filter:function(a){var b,c=[];for(this.init();b=this.next();)a(b)&&c.push(b);return this.init(),c},find:function(a){var b,c;for(this.init();b=this.next();)if(a(b)){c=b;break}return this.init(),c},lazyMap:function(a){return this._lazyMap=a,this},lazyFilter:function(a){if(Object.defineProperty(this,"next",{writable:!0}),"function"!=typeof a)this.next=this._next;else{"function"!=typeof this._next&&(this._next=this.next);var b=this._next.bind(this);this.next=function(){for(var c;c=b();)if(a(c))return c;return c}.bind(this)}return Object.defineProperty(this,"next",{writable:!1}),this}},j=function(a,b){var c=1<<a.length,d=function(){return c},e=Object.create(a.slice(),{length:{get:d}});return g(e,"index"),f(e,{valueOf:d,init:function(){e.index=0},nth:function(a){if(!(a>=c)){for(var b=0,d=[];a;a>>>=1,b++)1&a&&d.push(this[b]);return"function"==typeof e._lazyMap?e._lazyMap(d):d}},next:function(){return this.nth(this.index++)}}),f(e,i),e.init(),"function"==typeof b?e.map(b):e},k=function(a){var b=a&-a,c=a+b,d=c&-c,e=(d/b>>1)-1;return c|e},l=function(a,b,d){if(b||(b=a.length),1>b)throw new RangeError;if(b>a.length)throw new RangeError;var e=(1<<b)-1,h=c(a.length,b),j=1<<a.length,l=function(){return h},m=Object.create(a.slice(),{length:{get:l}});return g(m,"index"),f(m,{valueOf:l,init:function(){this.index=e},next:function(){if(!(this.index>=j)){for(var a=0,b=this.index,c=[];b;b>>>=1,a++)1&b&&(c[c.length]=this[a]);return this.index=k(this.index),"function"==typeof m._lazyMap?m._lazyMap(c):c}}}),f(m,i),m.init(),"function"==typeof d?m.map(d):m},m=function(a,b){var c=a,d=b,e=0;for(e=c.length-1;e>=0&&1==c[e];e--)d--;if(0==d){c[c.length]=1;for(var f=c.length-2;f>=0;f--)c[f]=b-1>f?1:0}else{for(var g=-1,h=-1,e=0;e<c.length;e++)if(0==c[e]&&-1!=g&&(h=e),1==c[e]&&(g=e),-1!=h&&-1!=g){c[h]=1,c[g]=0;break}d=b;for(var e=c.length-1;e>=g;e--)1==c[e]&&d--;for(var e=0;g>e;e++)c[e]=d>e?1:0}return c},n=function(a){for(var b=[],c=0;a>c;c++)b[c]=1;return b[0]=1,b},o=function(a,b,d){if(b||(b=a.length),1>b)throw new RangeError;if(b>a.length)throw new RangeError;var e=n(b),h=c(a.length,b),j=a.length,k=function(){return h},l=Object.create(a.slice(),{length:{get:k}});return g(l,"index"),f(l,{valueOf:k,init:function(){this.index=e.concat()},next:function(){if(!(this.index.length>j)){for(var a=0,c=this.index,d=[],e=0;e<c.length;e++,a++)c[e]&&(d[d.length]=this[a]);return m(this.index,b),"function"==typeof l._lazyMap?l._lazyMap(d):d}}}),f(l,i),l.init(),"function"==typeof d?l.map(d):l},p=function(a){var b=a.slice(),c=d(b.length);return b.index=0,b.next=function(){if(!(this.index>=c)){for(var a=this.slice(),d=e(this.index,this.length),f=[],g=this.length-1;g>=0;--g)f.push(a.splice(d[g],1)[0]);return this.index++,"function"==typeof b._lazyMap?b._lazyMap(f):f}},b},q=function(a,c,d){if(c||(c=a.length),1>c)throw new RangeError;if(c>a.length)throw new RangeError;var e=b(a.length,c),h=function(){return e},j=Object.create(a.slice(),{length:{get:h}});return g(j,"cmb"),g(j,"per"),f(j,{valueOf:function(){return e},init:function(){a.length<31?this.cmb=l(a,c):this.cmb=o(a,c),this.per=p(this.cmb.next())},next:function(){var a=this.per.next();if(!a){var b=this.cmb.next();if(!b)return;return this.per=p(b),this.next()}return"function"==typeof j._lazyMap?j._lazyMap(a):a}}),f(j,i),j.init(),"function"==typeof d?j.map(d):j},r=function(a){for(var c=0,d=1;a>=d;d++){var e=b(a,d);c+=e}return c},s=function(a,b){var c=r(a.length),d=function(){return c},e=Object.create(a.slice(),{length:{get:d}});return g(e,"cmb"),g(e,"per"),g(e,"nelem"),f(e,{valueOf:function(){return c},init:function(){this.nelem=1,this.cmb=l(a,this.nelem),this.per=p(this.cmb.next())},next:function(){var b=this.per.next();if(!b){var c=this.cmb.next();if(!c){if(this.nelem++,this.nelem>a.length)return;if(this.cmb=l(a,this.nelem),c=this.cmb.next(),!c)return}return this.per=p(c),this.next()}return"function"==typeof e._lazyMap?e._lazyMap(b):b}}),f(e,i),e.init(),"function"==typeof b?e.map(b):e},t=Array.prototype.slice,u=function(){if(!arguments.length)throw new RangeError;var a=t.call(arguments),b=a.reduce(function(a,b){return a*b.length},1),c=function(){return b},d=a.length,e=Object.create(a,{length:{get:c}});if(!b)throw new RangeError;return g(e,"index"),f(e,{valueOf:c,dim:d,init:function(){this.index=0},get:function(){if(arguments.length===this.length){for(var a=[],b=0;d>b;b++){var c=arguments[b];if(c>=this[b].length)return;a.push(this[b][c])}return"function"==typeof e._lazyMap?e._lazyMap(a):a}},nth:function(a){for(var b=[],c=0;d>c;c++){var f=this[c].length,g=a%f;b.push(this[c][g]),a-=g,a/=f}return"function"==typeof e._lazyMap?e._lazyMap(b):b},next:function(){if(!(this.index>=b)){var a=this.nth(this.index);return this.index++,a}}}),f(e,i),e.init(),e},v=function(a,b,c){if(b||(b=a.length),1>b)throw new RangeError;var d=a.length,e=Math.pow(d,b),h=function(){return e},j=Object.create(a.slice(),{length:{get:h}});return g(j,"index"),f(j,{valueOf:h,init:function(){j.index=0},nth:function(c){if(!(c>=e)){for(var f=[],g=0;b>g;g++){var h=c%d;f.push(a[h]),c-=h,c/=d}return"function"==typeof j._lazyMap?j._lazyMap(f):f}},next:function(){return this.nth(this.index++)}}),f(j,i),j.init(),"function"==typeof c?j.map(c):j},w=Object.create(null);return f(w,{C:c,P:b,factorial:d,factoradic:e,cartesianProduct:u,combination:l,bigCombination:o,permutation:q,permutationCombination:s,power:j,baseN:v,VERSION:a}),w});